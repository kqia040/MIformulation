# -*- coding: utf-8 -*-
"""
Created on Sun Jun 18 10:57:53 2017

@author: Kun
"""

import numpy as np
#M = np.zeros([7,7], dtype='int')
#this is where p = 124 and ex = 134
#M = np.array([[0, 0, 0, 0, 0, -1, -1],
#               [1, 0, 0, 0, 0, 0, 1],
#               [0, 1, 0, 0, 0, 0, 0],
#               [0, 0, 1, 0, 0, -1, -1],
#               [0, 0, 0, 1, 0, -1, 0],
#               [0, 0, 0, 0, 1, 0, -1],
#               [0, 0, 0, 0, 0, 1, 0]])


#p = 124 but ex = 234
M = np.array([[0, 0, 0, 0, 0, -1, -1],
               [1, 0, 0, 0, 0, 0, 0],
               [0, 1, 0, 0, 0, 0, 0],
               [0, 0, 1, 0, 0, -1, 1],
               [0, 0, 0, 1, 0, -1, 0],
               [0, 0, 0, 0, 1, 0, -1],
               [0, 0, 0, 0, 0, 1, -1]])

               
#M = np.array([[0, 0, 0, 0, 0, -1, -1],
#               [1, 0, 0, 0, 0, 0, 1],
#               [0, 1, 0, 0, 0, 0, 0],
#               [0, 0, 1, 0, 0, -1, -1],
#               [0, 0, 0, 1, 0, 0, -1],
#               [0, 0, 0, 0, 1, -1, 0],
#               [0, 0, 0, 0, 0, 1, 0]])
               
M_inv = np.linalg.inv(M)

#b_bar_bar = [dict.fromkeys(V[0], 1),  dict.fromkeys(V[1], 0)]

b_bar = [{4: -1}, {(1, 2): 1, (1, 3): 1, (1, 4): 0, (2, 3): 1, (2, 4): 0, (3, 4): 0}]

b = np.array([-1,1,1,0,0,0,1])
#e prime= 120
#negativeAstar = np.array([0,0,0,0,0,0,-1])
#e prime = 134
negativeAstar = np.array([1,-1,0,1,0,1,0])
f = np.dot(M_inv, b)
f_bar = np.dot(M_inv, negativeAstar)
#for p = 124
c = np.array([5,1,1,5,1,0,0])

#array([-5.,  1.,  1.,  1.,  5.,  1., -3.])

#c = np.array([1,1,1,5,1,0,0])
pi = np.dot(c, M_inv)
#pi = np.array([ 3.,  5.,  1.,  1.,  5.,  1.,  9.])










#==============================================================================
# MI 5 city working out
#==============================================================================

#p = 134, 125, ex = 145 234

bb = np.array([-1, -1,  0,  0,  1,  0,  0,  0,  0,  0,  1,  1])


MM = np.array([[0,0,0,0,0,0,0,0,0,-1,0,-1],
[0,0,0,0,0,0,0,0,-1,0,-1,0],
[1,0,0,0,0,0,0,0,0,0,0,0],
[0,1,0,0,0,0,0,0,0,0,-1,0],
[0,0,1,0,0,0,0,0,0,0,0,1],
[0,0,0,1,0,0,0,0,0,0,0,-1],
[0,0,0,0,1,0,0,0,-1,0,0,0],
[0,0,0,0,0,1,0,0,0,-1,0,-1],
[0,0,0,0,0,0,1,0,0,-1,1,0],
[0,0,0,0,0,0,0,1,-1,0,-1,0],
[0,0,0,0,0,0,0,0,1,0,0,0],
[0,0,0,0,0,0,0,0,0,1,0,0]]
)


MMinv = np.linalg.inv(MM)


ff = np.dot(MMinv, bb)

cc = np.array([26, 30,  24,  40,  50,  24,  50,  40,  0,  0,  0,  0])

pipi = np.dot(cc, MMinv)

rhsbb = np.array([0, 0,  0,  0,  1,  0,  0,  0,  0,  0,  -1,  0])

ff_bar = np.dot(MMinv, rhsbb)

#==============================================================================
# weird basis change
#==============================================================================

wm = np.array([[0,0,0,0,0,0,0,0,0,-1,0,-1],
                [0,0,0,0,0,0,0,0,-1,0,-1,0],
                [1,0,0,0,0,0,0,0,0,0,0,0],
                [0,1,0,0,0,0,0,0,0,0,-1,0],
                [0,0,1,0,0,0,0,0,0,0,0,0],
                [0,0,0,1,0,0,0,0,0,0,0,-1],
                [0,0,0,0,1,0,0,0,-1,0,0,0],
                [0,0,0,0,0,1,0,0,0,-1,0,0],
                [0,0,0,0,0,0,1,0,0,-1,1,-1],
                [0,0,0,0,0,0,0,1,-1,0,-1,0],
                [0,0,0,0,0,0,0,0,1,0,0,1],
                [0,0,0,0,0,0,0,0,0,1,0,0]]
                )

wminv = np.linalg.inv(wm)

z = np.array([-1, -1,  0,  0,  1,  0,  0,  0,  0,  0,  1,  1])

flowvvv = np.dot(wminv, z)

minusA = np.array([0, 0,  0,  0,  1,  0,  0,  0,  0,  0,  0,  -1])

flowvvvbar = np.dot(wminv, minusA)